<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>回掉函数</title>
	<script src='../lib/jquery.min.js'></script>
</head>
<script>
    //setTimeout有两个参数，一个是function，一个是毫秒时间
    //时间过了5秒，执行回调函数
	setTimeout(function(){
		console.log('hello world');
	},5000);

    //这个地方只是一个函数传入两个参数，第二个是一个函数
	function myEach(data,callback){
		//判断传入的数据是什么类型
		if(getType(data) === 'array'){
            for(var i=0;i<data.length;i++){
            	if((typeof callback) === 'function'){
            		callback(i,data[i]);
            	}
            }
		}
	}


    ;(function($){
        $.fn.getLiValue = function(callback){
        	//console.log(this);
	        for(var i = 0;i<this.length;i++){
	        	 //callback();//这样写会使得回掉后的this为window
                 callback.call(this[i]); //这样写把callback的指向当前的this 的dom元素
		    }
        };
    })(jQuery);


	function getLiValue2(callback){
		// var length = this.length;
		// alert(length);
		// for(var i = 0;i<this.length;i++){
  //           callback;
		// }
	}

	function getType(data){
		return Object.prototype.toString.call(data).slice(8,-1).toLowerCase();
	}

	//console.log(getType([]));
	//console.log(typeof myEach);//function
	var arr = ['mifi','ufi','dongle'];
	myEach(arr,function(key,value){
        console.log(key+"="+value);
	});

	window.onload = function(){
		document.getElementById('btn1').onclick = function(){
            console.log(this);
		    $('li').getLiValue(function(){
		    	console.log($(this).text());
		    });

	    }
	}

	
</script>
<body>
	<button id='btn1'>按钮</button>
	<ul>
		<li>首页</li>
		<li>短信</li>
		<li>设置</li>
	</ul>
</body>
</html>